<!DOCTYPE html>
<html>
	<head>
		<title>D3.js Tutorial</title>
		<meta charset="utf-8">
		<link rel="stylesheet" href="css/style.css">
	</head>
	<!-- adapted from http://janmilosh.github.io/d3js-presentation/ -->
<body>

	<script src="d3.js"></script>

	<div id="demo"></div>
	<script>

		var height = 400;
		var width = 950;
		var svgColor = '#222';


		var svgSelection = d3.select('#demo')
								.append('svg')
								.attr('height', height)
								.attr('width', width)
								.style('background', svgColor);

		var dataArray = [               // Defines the new data, an array of objects
			  {x: 15, y: 10, color: 'red'},
			  {x: 8, y: 10, color: 'orange'},
			  {x: 9, y: 13, color: 'pink'},
			  {x: 16, y: 3, color: 'violet'},
			  {x: 6, y: 9, color: 'lightgreen'},
			  {x: 3, y: 4,color: 'yellow'},
			  {x: 12, y: 8,color: 'cyan'},
			  {x: 7, y: 5, color: 'lightblue'}
			];


			var dataPoints = svgSelection
			  .selectAll('circle') // selects all circles (whether they exist or not)
			  .data(dataArray)     // joins the data to the current selection (all circles)
			  .enter()             // joins the data to placeholders for the circles
			  .append('circle');   // appends the circles to the svg


			var xScale = d3.scale.linear() // adds xScale
			  .domain([0, 16])             // range of x data
			  .range([0, width]);          // map x data to the svg

			var yScale = d3.scale.linear() // adds yScale
			  .domain([0, 13])             // range of y data
			  .range([height, 0]);         // map y data to the svg

			var dataAttributes = dataPoints             // defines the circle attributes
			  .attr('cx', function (d) { return xScale(d.x); }) // when data array is used,
			  .attr('cy', function (d) { return yScale(d.y); })  // reference it from an anonymous function
			  .attr('r', 15)
			  .attr('fill', function(d) { return d.color; });



			// adding text
			var text = svgSelection
			  .selectAll('text') // The text is appended in the same manner as the circles
			  .data(dataArray)
			  .enter()
			  .append('text')
			  .attr('x', function(d) { return xScale(d.x) + 15; }) // Add some x offset
			  .attr('y', function(d) { return yScale(d.y) - 15; }) // Add some y offset
			  .text( function (d) { return d.x + ' - ' + d.y; })    // The text string
			  .attr('font-family', 'helvetica')
			  .attr('font-size', '16px')
			  .attr('fill', function(d) { return d.color });



	</script>

</body>
</html>